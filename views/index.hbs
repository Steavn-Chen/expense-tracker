<div class="container mt-5">
  <div class="btn-toolbar justify-content-center" role="toolbar" aria-label="Toolbar with button groups">
    <form action="/filter" method="GET">
    {{!-- 追加 年 月 按紐未完成的 CODE --}}
      {{!-- <div class="filterYear btn-group mx-5" role="group" aria-label="First group" >
        <select class="custom-select custom-select-lg  mb-3" oninput="submit()" name="filterYear" id="selectYear">
          <option value="allYear" selected>所有年份</option>
          {{#each yearList}}
          <option value="{{ this.year }}" {{#ifEq this.year ../options.filterYear}} selected {{/ifEq}}>{{ this.year }} 年</option>
          {{/each}}
        </select>
      </div> --}}
      {{!-- <div class="filterMonth btn-group mx-5" role="group" aria-label="Second group">
        <select class="custom-select custom-select-lg  mb-3" oninput="submit()" name="filterMonth" id="selectMonth">
          <option selected="">所有月份</option>
          {{#each monthList}}
          <option value="{{ this.monthValue }}" {{#ifEq this.monthValue ../options.filterMonth }} selected {{/ifEq}}>{{ this.monthName }}</option>
          {{/each}}
        </select>
      </div> --}}
      
      <div class="filterCategory btn-group mx-5" role="group" aria-label="Three group">
        <select class="custom-select custom-select-lg btn-secondary mb-3" oninput="submit()" name='filterCategory'>
          <option selected>全部類別</option>
          {{#each categories}}
          <option value="{{this.category}}" {{#ifEq this.category ../options.filterCategory}} selected {{/ifEq}}>
            {{this.category}}</option>
          {{/each}}
        </select>
      </div>
    </form>
  </div>

  <div class="row rol-12 mt-3 mx-auto justify-content-center align-items-center bg-dark">
    <div class="mx-2" style="font-size:25px; color:rgb(243, 232, 223)">支出總金額 : </div>
    <div style="font-size:55px; color:rgb(253, 135, 38)">{{ totalAmount }}元</div>
  </div>
  {{> message}}
  <div style="height:550px;width:auto;overflow:auto;background:#EEEEEE;" class="mt-3">
    <div class="listMenu mt-3">
      <ul class="list-group">
        {{#each records}}
        <div class="row col-12 d-flex justify-content-center">
          <div class="col-10 aa">
            <li class="list-group-item justify-content-between">
              <div class="row d-flex align-items-center">
                <div class="col-auto d-flex justify-content-center" style="min-width: 180px;">
                  <i class="{{categoryIcon}} fa-5x"></i>
                </div>
                <div class="col column text-center" style="min-width: 180px;">
                  <h5>{{this.category}}: {{this.merchant}}</h5>
                  <h5>{{this.date}}</h5>
                </div>
                <div class="col text-center" style="min-width: 180px;">
                  <h3>花費 : {{this.amount}}</h3>
                </div>
                <div class="col d-flex justify-content-center ml-3">
                  <a href="/records/{{this._id}}/edit" class="btn btn-success mx-2">修改</a>

                  <form action="/records/{{this._id}}?_method=DELETE" method="POST">
                    <button type="submit" class="btn btn-danger mx-2">刪除</button>
                  </form>
                </div>
              </div>
            </li>
          </div>
        </div>
        {{/each}}
      </ul>

    </div>
  </div>
  <div class="newBtn d-flex justify-content-center">
    <a href="/records/new" class="btn btn-primary mt-4" style="width: 200px;">新增支出</a>
  </div>
</div>